<style type="text/css">
    label.control-label{ width:85px;}
</style>
<div class="bjui-pageContent">
    <form action="__APP__/Member/index" method="post" id="member_form" data-toggle="validate">
        <input type="hidden" name="btn_submit" value="true" />
        <table class="table-bordered table-condensed table-hover" width="100%">
            <tbody>
            <tr>
                <td>
                    <label for="member_account" class="control-label x120">
                        {$MEMBERC['username']}：
                    </label>
                    <input style="300px" type="text" name="username" value="{$userinfo.username}" id="member_account" data-rule="用户名:required;account;remote(__APP__/Member/userCheck, username)" data-rule-account="[{$rule.account},'用户名为3-15位数字、字母、下划线的组合，或1-5个汉字']" data-tip="用户名为3-15位数字、字母、下划线的组合，或1-5个汉字"
                           size="30"><font color="red">*</font>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="member_pwd" class="control-label x120">
                        登录密码：
                    </label>
                    <input type="password" name="password" id="member_pwd" data-rule="密码:required;password;" data-tip="密码为6-16位数字、字母的组合" size="30"><font color="red">*</font>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="member_pwd2" class="control-label x120">
                        确认密码：
                    </label>
                    <input type="password" name="password2" id="member_pwd2" data-rule="确认密码:required;match(password)" data-tip="密码为6-16位数字、字母的组合" size="30" tyle="300px"><font color="red">*</font>
                </td>
            </tr>
            <!--<tr>
                <td>
                    <label for="member_group" class="control-label x120">
                        会员类别：
                    </label>
                    <select name="regtype" data-toggle="selectpicker">
                        <option value="0" style="width: 177px;">酒店个人会员</option>
                        <option value="1">协议单位会员</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="member_group" class="control-label x120">
                        会员组：
                    </label>
                    <select name="groupid" id="member_group" data-toggle="selectpicker">
                        {foreach from=$glist item=v}
                        <option value="{$v.id}" {if $v.id==0}selected='selected' {/if}>
                            {$v.gname} ({if $v.discount==100}无折扣{else}折扣：{$v.discount} %{/if})
                        </option>
                        {/foreach}
                    </select>
                </td>
            </tr>-->
            <tr>
                <td>
                    <label for="member_truename" class="control-label x120">
                        {$MEMBERC['truename']}：  
                    </label>                                                                                                  <!--data-rule-truename="[{$rule.truename},'姓名为2-6个汉字']"-->
                    <input type="text" name="truename" id="member_truename" value="{$userinfo.truename}"  data-rule="required;truename"  data-rule-truename="[{$rule.truename},'真实姓名为2-10个汉字']" size="30"><em style="color: red;">*</em>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="member_phone" class="control-label x120">
                        {$MEMBERC['telephone']}：
                    </label>
                    <input type="text" tyle="300px" name="telephone" id="member_phone" value="{$userinfo.Mobile}"  data-rule="required;telephone"  data-rule-telephone="[{$rule.telephone},'请输入正确的手机号']" maxlength="11" onkeyup="this.value=this.value.replace(/\D/g,'')" size="30"><font color="red">*</font>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="member_email" class="control-label x120">
                        {$MEMBERC['email']}：
                    </label>
                    <input type="text" tyle="300px" name="email" value="{$userinfo.email}" id="member_email" data-rule="email;required" size="30"><font color="red">*</font>
                </td>
            </tr>
            <tr>
                    <td colspan="2">
                        <label for="member_qq" class="control-label x120">
                            {$MEMBERC['qq']}：
                        </label>                
                        <input type="text" name="qq" id="member_qq" value="{$row.qq}" data-rule="truename"  maxlength="11" onkeyup="this.value=this.value.replace(/\D/g,'')" size="30">
                    </td>
                </tr>
           <tr>
                    <td>
                        <label for="member_province" class="control-label x120">
                            {$MEMBERC['address']}：
                        </label>                
                        <input type="text" name="address" id="member_address" value="{$userinfo.address}" data-rule="address"   size="30">
                    </td>
                </tr>
            <tr>
                <td>
                    <div class="page_but" style="margin-left:85px;">
                        <ul>
                            <li>
                                <button type="submit" class="but btn-blue" id="btn_submit" data-icon="save">保存</button>
                            </li>
                            <li>
                                <button type="button" class="btn-close" data-icon="close">关闭</button>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>
<!--<script type="text/javascript">
	$('#member_form').validator({
	    rules: {
	        //自定义一个规则，用来代替remote（注意：要把$.ajax()返回出来）
	        username_exists: function(element){
	            $.ajax({
	                url: "__APP__/Member/validate",
	                type: 'post',
	                data: element.name +'='+ element.value,
	                dataType: 'json',
	                success: function(data){
	                	window.remoteStatus=(data.statusCode==200)?1:0;
	                }
	            });
//	            return remoteStatus;
return 0;
	        }
	    },
	    messages:{
	    	username:{
	    		username_exists:'该用户名已存在',
	    		required:'请输入',
	    	}
	    },
	    fields: {
	        'username': 'required; username_exists;'
	    },
	});
</script>-->